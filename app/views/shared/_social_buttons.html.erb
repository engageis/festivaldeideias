<!-- Twitter -->
<% size = orientation == :horizontal ? '140' : '80' %>

<div class="social-buttons <%= orientation %>">

  <!-- Google Plus -->

  <%
      url = @idea.present? ? @idea.external_url : (options[:url] || request.url)
      # <nome da ideia> - Festival de Ideias 2013 <link da ideia> #festideias
      twitter_text = @idea.respond_to?(:title) ? sprintf("%s - Festival de Ideias 2013", @idea.title) : "Festival de Ideias 2013"
  %>

  <!-- Twitter -->
  <div class='twitter-like'>
    <a
      href="https://twitter.com/share"
      class="twitter-share-button"
      data-url="<%= url %>"
      data-hashtags="festideias"
      data-text="<%= twitter_text %>"
      data-lang="pt"
      data-size="<%= size %>"
      data-count="<%= twitter_count %>"
      >Tweetar</a>
  </div>

  <!-- Facebook -->
  <% url = @idea.present? ? @idea.external_url : url %>
  <div
    class="fb-like"
    style="display: inline-block"
    data-href="<%= url ||''%>"
    data-send="false"
    data-layout="<%= facebook_count %>"
    data-width="<%= size %>"
    data-show-faces="false"
    data-font="lucida grande"
    ></div>


  <!-- Social scripts -->
  <script>
    (function (d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (!d.getElementById(id)) {
        js = d.createElement(s);
        js.id = id;
        js.src="//platform.twitter.com/widgets.js";
        fjs.parentNode.insertBefore(js,fjs);
      }
    }(document, "script", "twitter-wjs"));

    (function () {
      var po = document.createElement('script');
      po.type = 'text/javascript';
      po.async = true;
      po.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(po, s);
    })();
  </script>
  
</div>
